webpackHotUpdate("content-script",{

/***/ "./src/content-scripts/index.js":
/*!**************************************!*\
  !*** ./src/content-scripts/index.js ***!
  \**************************************/
/*! exports provided: matchClassNames, needAddPreCLElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchClassNames\", function() { return matchClassNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"needAddPreCLElements\", function() { return needAddPreCLElements; });\n/* harmony import */ var _code_generator_dom_events_to_record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../code-generator/dom-events-to-record */ \"./src/code-generator/dom-events-to-record.js\");\n/* harmony import */ var _code_generator_elements_to_bind_to__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../code-generator/elements-to-bind-to */ \"./src/code-generator/elements-to-bind-to.ts\");\n/* harmony import */ var _medv_finder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @medv/finder */ \"./node_modules/@medv/finder/dist/index.js\");\n/* harmony import */ var _medv_finder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_medv_finder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _code_generator_pptr_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../code-generator/pptr-actions */ \"./src/code-generator/pptr-actions.js\");\n/* harmony import */ var delegate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! delegate */ \"./node_modules/delegate/src/delegate.js\");\n/* harmony import */ var delegate__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(delegate__WEBPACK_IMPORTED_MODULE_4__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // import { finder } from \"../code-generator/alauda-finder\";\n\n\n\n // note: 需要尽量避免aui-input的匹配\n\nvar matchClassNames = [\"aui-search\", \"aui-button\", \"aui-select\", \"aui-accordion\", \"aui-breadcrumb\", \"aui-nav\", \"aui-form\", \"aui-icon\", \"aui-tab\", \"aui-tooltip\", \"aui-option\", \"acl-disabled-container\", \"acl-\", \"rc-\"]; // need add pre command lines elements\n\nvar needAddPreCLElements = [];\n\nvar EventRecorder = /*#__PURE__*/function () {\n  function EventRecorder() {\n    _classCallCheck(this, EventRecorder);\n\n    this.eventLog = [];\n    this.previousEvent = null;\n    this.previousRouter = null;\n  }\n\n  _createClass(EventRecorder, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      chrome.storage.local.get([\"options\"], function (_ref) {\n        var options = _ref.options;\n\n        var _ref2 = options ? options.code : {},\n            dataAttribute = _ref2.dataAttribute;\n\n        var startContext = _this;\n\n        if (dataAttribute) {\n          _this.dataAttribute = dataAttribute;\n        } // yintest 监听 pushstate\n        // const _historyWrap = function(type) {\n        //   const orig = window.history[type];\n        //   const e = new Event(type);\n        //   return function() {\n        //     const rv = orig.apply(this, arguments);\n        //     e.arguments = arguments;\n        //     window.dispatchEvent(e);\n        //     return rv;\n        //   };\n        // };\n        // window.history.pushState = _historyWrap(\"pushState\");\n        // window.history.replaceState = _historyWrap(\"replaceState\");\n        // window.addEventListener(\"pushState\", function(e) {\n        //   console.log(\"change pushState\", e);\n        // });\n        // window.addEventListener(\"replaceState\", function(e) {\n        //   console.log(\"change replaceState\", e);\n        // });\n\n\n        var events = Object.values(_code_generator_dom_events_to_record__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n        if (!window.pptRecorderAddedControlListeners) {\n          _this.addAllListeners(_code_generator_elements_to_bind_to__WEBPACK_IMPORTED_MODULE_1__[\"defaultBindTags\"], events);\n\n          window.pptRecorderAddedControlListeners = true;\n        }\n\n        if (!window.document.pptRecorderAddedControlListeners && chrome.runtime && chrome.runtime.onMessage) {\n          var boundedGetCurrentUrl = _this.getCurrentUrl.bind(_this);\n\n          var boundedGetViewPortSize = _this.getViewPortSize.bind(_this);\n\n          chrome.runtime.onMessage.addListener(boundedGetCurrentUrl);\n          chrome.runtime.onMessage.addListener(boundedGetViewPortSize);\n          window.document.pptRecorderAddedControlListeners = true;\n        }\n\n        chrome.storage.local.get(\"firstRun\", function (items) {\n          if (!items.hasOwnProperty(\"firstRun\")) {\n            chrome.storage.local.set({\n              firstRun: 0\n            });\n            items.firstRun = 0;\n          }\n\n          if (items.hasOwnProperty(\"firstRun\") && !items.firstRun) {\n            startContext.sendMessage({\n              control: \"get-viewport-size\",\n              coordinates: {\n                width: window.innerWidth,\n                height: window.innerHeight\n              }\n            });\n            startContext.sendMessage({\n              control: \"get-current-url\",\n              origin: window.location.origin,\n              href: window.location.href\n            });\n            chrome.storage.local.set({\n              firstRun: 1\n            });\n          }\n        });\n\n        _this.sendMessage({\n          control: \"event-recorder-started\"\n        });\n\n        console.debug(\"Cypress Recorder in-page EventRecorder started\"); // 绑定angular event router end\n\n        if (window._cy_navigate) {\n          console.log(\"_cy_navigate\", window._cy_navigate);\n        }\n      });\n    }\n  }, {\n    key: \"addAllListeners\",\n    value: function addAllListeners(elements, events) {\n      var boundedRecordEvent = this.recordEvent.bind(this);\n      events.forEach(function (type) {\n        window.addEventListener(type, boundedRecordEvent, true);\n      });\n    }\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(msg) {\n      console.debug(\"sending message\", msg);\n\n      try {\n        // poor man's way of detecting whether this script was injected by an actual extension, or is loaded for\n        // testing purposes\n        if (chrome.runtime && chrome.runtime.onMessage) {\n          chrome.runtime.sendMessage(msg);\n        } else {\n          this.eventLog.push(msg);\n        }\n      } catch (err) {\n        console.debug(\"caught error\", err);\n      }\n    }\n  }, {\n    key: \"getCurrentUrl\",\n    value: function getCurrentUrl(msg) {\n      if (msg.control && msg.control === \"get-current-url\") {\n        console.debug(\"sending current url:\", window.location.href);\n        this.sendMessage({\n          control: msg.control,\n          origin: window.location.origin,\n          href: window.location.href\n        });\n      }\n    }\n  }, {\n    key: \"getViewPortSize\",\n    value: function getViewPortSize(msg) {\n      if (msg.control && msg.control === \"get-viewport-size\") {\n        console.debug(\"sending current viewport size\");\n        this.sendMessage({\n          control: msg.control,\n          coordinates: {\n            width: window.innerWidth,\n            height: window.innerHeight\n          }\n        });\n      }\n    }\n  }, {\n    key: \"recordEvent\",\n    value: function recordEvent(e) {\n      if (this.previousEvent && this.previousEvent.timeStamp === e.timeStamp) return;\n      this.previousEvent = e; // yintest 判断url是否发生了改变\n\n      if (window.location.href !== this.previousRouter) {\n        this.previousRouter = window.location.href;\n        this.sendMessage({\n          action: _code_generator_pptr_actions__WEBPACK_IMPORTED_MODULE_3__[\"default\"].NAVIGATE,\n          href: this.previousRouter\n        });\n      }\n\n      var baseOptions = {\n        className: function className(name) {\n          return matchClassNames.some(function (item) {\n            return name.includes(item);\n          });\n        },\n        tagName: function tagName(name) {\n          return matchClassNames.some(function (item) {\n            return name.includes(item);\n          });\n        },\n        attr: function attr(name, value) {\n          return name.includes(\"data-cy\");\n        },\n        idName: function idName(name) {\n          return !name.includes(\"cdk-\");\n        }\n      };\n      var selector = e.target.hasAttribute && e.target.hasAttribute(this.dataAttribute) ? formatDataSelector(e.target, this.dataAttribute) : _medv_finder__WEBPACK_IMPORTED_MODULE_2___default()(e.target, _objectSpread(_objectSpread({}, baseOptions), {}, {\n        seedMinLength: 20,\n        optimizedMinLength: 20\n      }));\n      console.log(\"e.target\", e.target);\n      var msg = {\n        selector: selector,\n        fullSelector: _medv_finder__WEBPACK_IMPORTED_MODULE_2___default()(e.target, _objectSpread(_objectSpread({}, baseOptions), {}, {\n          seedMinLength: 10,\n          optimizedMinLength: 10\n        })),\n        value: e.target.value,\n        tagName: e.target.tagName,\n        targetType: e.target.type,\n        action: e.type,\n        keyCode: e.keyCode ? e.keyCode : null,\n        href: e.target.href ? e.target.href : null,\n        coordinates: getCoordinates(e),\n        targetObject: e.target,\n        targetText: e.target.innerText\n      };\n      this.sendMessage(msg);\n    }\n  }, {\n    key: \"getEventLog\",\n    value: function getEventLog() {\n      return this.eventLog;\n    }\n  }, {\n    key: \"clearEventLog\",\n    value: function clearEventLog() {\n      this.eventLog = [];\n    }\n  }]);\n\n  return EventRecorder;\n}();\n\nfunction getCoordinates(evt) {\n  var eventsWithCoordinates = {\n    mouseup: true,\n    mousedown: true,\n    mousemove: true,\n    mouseover: true\n  };\n  return eventsWithCoordinates[evt.type] ? {\n    x: evt.clientX,\n    y: evt.clientY\n  } : null;\n}\n\nfunction formatDataSelector(element, attribute) {\n  return \"[\".concat(attribute, \"=\").concat(element.getAttribute(attribute), \"]\");\n}\n\nwindow.eventRecorder = new EventRecorder();\nwindow.eventRecorder.start();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGVudC1zY3JpcHRzL2luZGV4LmpzPzllNmUiXSwibmFtZXMiOlsibWF0Y2hDbGFzc05hbWVzIiwibmVlZEFkZFByZUNMRWxlbWVudHMiLCJFdmVudFJlY29yZGVyIiwiZXZlbnRMb2ciLCJwcmV2aW91c0V2ZW50IiwicHJldmlvdXNSb3V0ZXIiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJvcHRpb25zIiwiY29kZSIsImRhdGFBdHRyaWJ1dGUiLCJzdGFydENvbnRleHQiLCJldmVudHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJldmVudHNUb1JlY29yZCIsIndpbmRvdyIsInBwdFJlY29yZGVyQWRkZWRDb250cm9sTGlzdGVuZXJzIiwiYWRkQWxsTGlzdGVuZXJzIiwiZGVmYXVsdEJpbmRUYWdzIiwiZG9jdW1lbnQiLCJydW50aW1lIiwib25NZXNzYWdlIiwiYm91bmRlZEdldEN1cnJlbnRVcmwiLCJnZXRDdXJyZW50VXJsIiwiYmluZCIsImJvdW5kZWRHZXRWaWV3UG9ydFNpemUiLCJnZXRWaWV3UG9ydFNpemUiLCJhZGRMaXN0ZW5lciIsIml0ZW1zIiwiaGFzT3duUHJvcGVydHkiLCJzZXQiLCJmaXJzdFJ1biIsInNlbmRNZXNzYWdlIiwiY29udHJvbCIsImNvb3JkaW5hdGVzIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImhyZWYiLCJjb25zb2xlIiwiZGVidWciLCJfY3lfbmF2aWdhdGUiLCJsb2ciLCJlbGVtZW50cyIsImJvdW5kZWRSZWNvcmRFdmVudCIsInJlY29yZEV2ZW50IiwiZm9yRWFjaCIsInR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwibXNnIiwicHVzaCIsImVyciIsImUiLCJ0aW1lU3RhbXAiLCJhY3Rpb24iLCJwcHRyQWN0aW9ucyIsIk5BVklHQVRFIiwiYmFzZU9wdGlvbnMiLCJjbGFzc05hbWUiLCJuYW1lIiwic29tZSIsIml0ZW0iLCJpbmNsdWRlcyIsInRhZ05hbWUiLCJhdHRyIiwidmFsdWUiLCJpZE5hbWUiLCJzZWxlY3RvciIsInRhcmdldCIsImhhc0F0dHJpYnV0ZSIsImZvcm1hdERhdGFTZWxlY3RvciIsImZpbmRlciIsInNlZWRNaW5MZW5ndGgiLCJvcHRpbWl6ZWRNaW5MZW5ndGgiLCJmdWxsU2VsZWN0b3IiLCJ0YXJnZXRUeXBlIiwia2V5Q29kZSIsImdldENvb3JkaW5hdGVzIiwidGFyZ2V0T2JqZWN0IiwidGFyZ2V0VGV4dCIsImlubmVyVGV4dCIsImV2dCIsImV2ZW50c1dpdGhDb29yZGluYXRlcyIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZW92ZXIiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiZWxlbWVudCIsImF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImV2ZW50UmVjb3JkZXIiLCJzdGFydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0NBRUE7O0FBQ0E7QUFDQTtDQUlBOztBQUNPLElBQU1BLGVBQWUsR0FBRyxDQUM3QixZQUQ2QixFQUU3QixZQUY2QixFQUc3QixZQUg2QixFQUk3QixlQUo2QixFQUs3QixnQkFMNkIsRUFNN0IsU0FONkIsRUFPN0IsVUFQNkIsRUFRN0IsVUFSNkIsRUFTN0IsU0FUNkIsRUFVN0IsYUFWNkIsRUFXN0IsWUFYNkIsRUFZN0Isd0JBWjZCLEVBYTdCLE1BYjZCLEVBYzdCLEtBZDZCLENBQXhCLEMsQ0FpQlA7O0FBQ08sSUFBTUMsb0JBQW9CLEdBQUcsRUFBN0I7O0lBS0RDLGE7QUFDSiwyQkFBYztBQUFBOztBQUNaLFNBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCLElBQXJCO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixJQUF0QjtBQUNEOzs7O1dBRUQsaUJBQVE7QUFBQTs7QUFDTkMsWUFBTSxDQUFDQyxPQUFQLENBQWVDLEtBQWYsQ0FBcUJDLEdBQXJCLENBQXlCLENBQUMsU0FBRCxDQUF6QixFQUFzQyxnQkFBaUI7QUFBQSxZQUFkQyxPQUFjLFFBQWRBLE9BQWM7O0FBQ3JELG9CQUEwQkEsT0FBTyxHQUFHQSxPQUFPLENBQUNDLElBQVgsR0FBa0IsRUFBbkQ7QUFBQSxZQUFRQyxhQUFSLFNBQVFBLGFBQVI7O0FBQ0EsWUFBTUMsWUFBWSxHQUFHLEtBQXJCOztBQUNBLFlBQUlELGFBQUosRUFBbUI7QUFDakIsZUFBSSxDQUFDQSxhQUFMLEdBQXFCQSxhQUFyQjtBQUNELFNBTG9ELENBT3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxZQUFNRSxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjQyw0RUFBZCxDQUFmOztBQUNBLFlBQUksQ0FBQ0MsTUFBTSxDQUFDQyxnQ0FBWixFQUE4QztBQUM1QyxlQUFJLENBQUNDLGVBQUwsQ0FBcUJDLG1GQUFyQixFQUFzQ1AsTUFBdEM7O0FBQ0FJLGdCQUFNLENBQUNDLGdDQUFQLEdBQTBDLElBQTFDO0FBQ0Q7O0FBRUQsWUFDRSxDQUFDRCxNQUFNLENBQUNJLFFBQVAsQ0FBZ0JILGdDQUFqQixJQUNBYixNQUFNLENBQUNpQixPQURQLElBRUFqQixNQUFNLENBQUNpQixPQUFQLENBQWVDLFNBSGpCLEVBSUU7QUFDQSxjQUFNQyxvQkFBb0IsR0FBRyxLQUFJLENBQUNDLGFBQUwsQ0FBbUJDLElBQW5CLENBQXdCLEtBQXhCLENBQTdCOztBQUNBLGNBQU1DLHNCQUFzQixHQUFHLEtBQUksQ0FBQ0MsZUFBTCxDQUFxQkYsSUFBckIsQ0FBMEIsS0FBMUIsQ0FBL0I7O0FBQ0FyQixnQkFBTSxDQUFDaUIsT0FBUCxDQUFlQyxTQUFmLENBQXlCTSxXQUF6QixDQUFxQ0wsb0JBQXJDO0FBQ0FuQixnQkFBTSxDQUFDaUIsT0FBUCxDQUFlQyxTQUFmLENBQXlCTSxXQUF6QixDQUFxQ0Ysc0JBQXJDO0FBQ0FWLGdCQUFNLENBQUNJLFFBQVAsQ0FBZ0JILGdDQUFoQixHQUFtRCxJQUFuRDtBQUNEOztBQUVEYixjQUFNLENBQUNDLE9BQVAsQ0FBZUMsS0FBZixDQUFxQkMsR0FBckIsQ0FBeUIsVUFBekIsRUFBcUMsVUFBU3NCLEtBQVQsRUFBZ0I7QUFDbkQsY0FBSSxDQUFDQSxLQUFLLENBQUNDLGNBQU4sQ0FBcUIsVUFBckIsQ0FBTCxFQUF1QztBQUNyQzFCLGtCQUFNLENBQUNDLE9BQVAsQ0FBZUMsS0FBZixDQUFxQnlCLEdBQXJCLENBQXlCO0FBQUVDLHNCQUFRLEVBQUU7QUFBWixhQUF6QjtBQUNBSCxpQkFBSyxDQUFDRyxRQUFOLEdBQWlCLENBQWpCO0FBQ0Q7O0FBRUQsY0FBSUgsS0FBSyxDQUFDQyxjQUFOLENBQXFCLFVBQXJCLEtBQW9DLENBQUNELEtBQUssQ0FBQ0csUUFBL0MsRUFBeUQ7QUFDdkRyQix3QkFBWSxDQUFDc0IsV0FBYixDQUF5QjtBQUN2QkMscUJBQU8sRUFBRSxtQkFEYztBQUV2QkMseUJBQVcsRUFBRTtBQUNYQyxxQkFBSyxFQUFFcEIsTUFBTSxDQUFDcUIsVUFESDtBQUVYQyxzQkFBTSxFQUFFdEIsTUFBTSxDQUFDdUI7QUFGSjtBQUZVLGFBQXpCO0FBT0E1Qix3QkFBWSxDQUFDc0IsV0FBYixDQUF5QjtBQUN2QkMscUJBQU8sRUFBRSxpQkFEYztBQUV2Qk0sb0JBQU0sRUFBRXhCLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0JELE1BRkQ7QUFHdkJFLGtCQUFJLEVBQUUxQixNQUFNLENBQUN5QixRQUFQLENBQWdCQztBQUhDLGFBQXpCO0FBS0F0QyxrQkFBTSxDQUFDQyxPQUFQLENBQWVDLEtBQWYsQ0FBcUJ5QixHQUFyQixDQUF5QjtBQUFFQyxzQkFBUSxFQUFFO0FBQVosYUFBekI7QUFDRDtBQUNGLFNBckJEOztBQXVCQSxhQUFJLENBQUNDLFdBQUwsQ0FBaUI7QUFBRUMsaUJBQU8sRUFBRTtBQUFYLFNBQWpCOztBQUNBUyxlQUFPLENBQUNDLEtBQVIsQ0FBYyxnREFBZCxFQXRFcUQsQ0F3RXJEOztBQUNBLFlBQUk1QixNQUFNLENBQUM2QixZQUFYLEVBQXlCO0FBQ3ZCRixpQkFBTyxDQUFDRyxHQUFSLENBQVksY0FBWixFQUE0QjlCLE1BQU0sQ0FBQzZCLFlBQW5DO0FBQ0Q7QUFDRixPQTVFRDtBQTZFRDs7O1dBRUQseUJBQWdCRSxRQUFoQixFQUEwQm5DLE1BQTFCLEVBQWtDO0FBQ2hDLFVBQU1vQyxrQkFBa0IsR0FBRyxLQUFLQyxXQUFMLENBQWlCeEIsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBM0I7QUFDQWIsWUFBTSxDQUFDc0MsT0FBUCxDQUFlLFVBQUNDLElBQUQsRUFBVTtBQUN2Qm5DLGNBQU0sQ0FBQ29DLGdCQUFQLENBQXdCRCxJQUF4QixFQUE4Qkgsa0JBQTlCLEVBQWtELElBQWxEO0FBQ0QsT0FGRDtBQUdEOzs7V0FFRCxxQkFBWUssR0FBWixFQUFpQjtBQUNmVixhQUFPLENBQUNDLEtBQVIsQ0FBYyxpQkFBZCxFQUFpQ1MsR0FBakM7O0FBQ0EsVUFBSTtBQUNGO0FBQ0E7QUFDQSxZQUFJakQsTUFBTSxDQUFDaUIsT0FBUCxJQUFrQmpCLE1BQU0sQ0FBQ2lCLE9BQVAsQ0FBZUMsU0FBckMsRUFBZ0Q7QUFDOUNsQixnQkFBTSxDQUFDaUIsT0FBUCxDQUFlWSxXQUFmLENBQTJCb0IsR0FBM0I7QUFDRCxTQUZELE1BRU87QUFDTCxlQUFLcEQsUUFBTCxDQUFjcUQsSUFBZCxDQUFtQkQsR0FBbkI7QUFDRDtBQUNGLE9BUkQsQ0FRRSxPQUFPRSxHQUFQLEVBQVk7QUFDWlosZUFBTyxDQUFDQyxLQUFSLENBQWMsY0FBZCxFQUE4QlcsR0FBOUI7QUFDRDtBQUNGOzs7V0FFRCx1QkFBY0YsR0FBZCxFQUFtQjtBQUNqQixVQUFJQSxHQUFHLENBQUNuQixPQUFKLElBQWVtQixHQUFHLENBQUNuQixPQUFKLEtBQWdCLGlCQUFuQyxFQUFzRDtBQUNwRFMsZUFBTyxDQUFDQyxLQUFSLENBQWMsc0JBQWQsRUFBc0M1QixNQUFNLENBQUN5QixRQUFQLENBQWdCQyxJQUF0RDtBQUNBLGFBQUtULFdBQUwsQ0FBaUI7QUFDZkMsaUJBQU8sRUFBRW1CLEdBQUcsQ0FBQ25CLE9BREU7QUFFZk0sZ0JBQU0sRUFBRXhCLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0JELE1BRlQ7QUFHZkUsY0FBSSxFQUFFMUIsTUFBTSxDQUFDeUIsUUFBUCxDQUFnQkM7QUFIUCxTQUFqQjtBQUtEO0FBQ0Y7OztXQUVELHlCQUFnQlcsR0FBaEIsRUFBcUI7QUFDbkIsVUFBSUEsR0FBRyxDQUFDbkIsT0FBSixJQUFlbUIsR0FBRyxDQUFDbkIsT0FBSixLQUFnQixtQkFBbkMsRUFBd0Q7QUFDdERTLGVBQU8sQ0FBQ0MsS0FBUixDQUFjLCtCQUFkO0FBQ0EsYUFBS1gsV0FBTCxDQUFpQjtBQUNmQyxpQkFBTyxFQUFFbUIsR0FBRyxDQUFDbkIsT0FERTtBQUVmQyxxQkFBVyxFQUFFO0FBQUVDLGlCQUFLLEVBQUVwQixNQUFNLENBQUNxQixVQUFoQjtBQUE0QkMsa0JBQU0sRUFBRXRCLE1BQU0sQ0FBQ3VCO0FBQTNDO0FBRkUsU0FBakI7QUFJRDtBQUNGOzs7V0FFRCxxQkFBWWlCLENBQVosRUFBZTtBQUNiLFVBQUksS0FBS3RELGFBQUwsSUFBc0IsS0FBS0EsYUFBTCxDQUFtQnVELFNBQW5CLEtBQWlDRCxDQUFDLENBQUNDLFNBQTdELEVBQ0U7QUFDRixXQUFLdkQsYUFBTCxHQUFxQnNELENBQXJCLENBSGEsQ0FJYjs7QUFDQSxVQUFJeEMsTUFBTSxDQUFDeUIsUUFBUCxDQUFnQkMsSUFBaEIsS0FBeUIsS0FBS3ZDLGNBQWxDLEVBQWtEO0FBQ2hELGFBQUtBLGNBQUwsR0FBc0JhLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0JDLElBQXRDO0FBRUEsYUFBS1QsV0FBTCxDQUFpQjtBQUNmeUIsZ0JBQU0sRUFBRUMsb0VBQVcsQ0FBQ0MsUUFETDtBQUVmbEIsY0FBSSxFQUFFLEtBQUt2QztBQUZJLFNBQWpCO0FBSUQ7O0FBRUQsVUFBTTBELFdBQVcsR0FBRztBQUNsQkMsaUJBQVMsRUFBRSxtQkFBQ0MsSUFBRDtBQUFBLGlCQUFVakUsZUFBZSxDQUFDa0UsSUFBaEIsQ0FBcUIsVUFBQ0MsSUFBRDtBQUFBLG1CQUFVRixJQUFJLENBQUNHLFFBQUwsQ0FBY0QsSUFBZCxDQUFWO0FBQUEsV0FBckIsQ0FBVjtBQUFBLFNBRE87QUFFbEJFLGVBQU8sRUFBRSxpQkFBQ0osSUFBRDtBQUFBLGlCQUFVakUsZUFBZSxDQUFDa0UsSUFBaEIsQ0FBcUIsVUFBQ0MsSUFBRDtBQUFBLG1CQUFVRixJQUFJLENBQUNHLFFBQUwsQ0FBY0QsSUFBZCxDQUFWO0FBQUEsV0FBckIsQ0FBVjtBQUFBLFNBRlM7QUFHbEJHLFlBQUksRUFBRSxjQUFDTCxJQUFELEVBQU9NLEtBQVA7QUFBQSxpQkFBaUJOLElBQUksQ0FBQ0csUUFBTCxDQUFjLFNBQWQsQ0FBakI7QUFBQSxTQUhZO0FBSWxCSSxjQUFNLEVBQUUsZ0JBQUNQLElBQUQ7QUFBQSxpQkFBVSxDQUFDQSxJQUFJLENBQUNHLFFBQUwsQ0FBYyxNQUFkLENBQVg7QUFBQTtBQUpVLE9BQXBCO0FBT0EsVUFBTUssUUFBUSxHQUNaZixDQUFDLENBQUNnQixNQUFGLENBQVNDLFlBQVQsSUFBeUJqQixDQUFDLENBQUNnQixNQUFGLENBQVNDLFlBQVQsQ0FBc0IsS0FBSy9ELGFBQTNCLENBQXpCLEdBQ0lnRSxrQkFBa0IsQ0FBQ2xCLENBQUMsQ0FBQ2dCLE1BQUgsRUFBVyxLQUFLOUQsYUFBaEIsQ0FEdEIsR0FFSWlFLG1EQUFNLENBQUNuQixDQUFDLENBQUNnQixNQUFILGtDQUNEWCxXQURDO0FBRUplLHFCQUFhLEVBQUUsRUFGWDtBQUdSQywwQkFBa0IsRUFBRTtBQUhaLFNBSFo7QUFTQWxDLGFBQU8sQ0FBQ0csR0FBUixDQUFZLFVBQVosRUFBd0JVLENBQUMsQ0FBQ2dCLE1BQTFCO0FBRUEsVUFBTW5CLEdBQUcsR0FBRztBQUNWa0IsZ0JBQVEsRUFBRUEsUUFEQTtBQUVWTyxvQkFBWSxFQUFFSCxtREFBTSxDQUFDbkIsQ0FBQyxDQUFDZ0IsTUFBSCxrQ0FDZlgsV0FEZTtBQUVsQmUsdUJBQWEsRUFBRSxFQUZHO0FBR2xCQyw0QkFBa0IsRUFBRTtBQUhGLFdBRlY7QUFPVlIsYUFBSyxFQUFFYixDQUFDLENBQUNnQixNQUFGLENBQVNILEtBUE47QUFRVkYsZUFBTyxFQUFFWCxDQUFDLENBQUNnQixNQUFGLENBQVNMLE9BUlI7QUFTVlksa0JBQVUsRUFBRXZCLENBQUMsQ0FBQ2dCLE1BQUYsQ0FBU3JCLElBVFg7QUFVVk8sY0FBTSxFQUFFRixDQUFDLENBQUNMLElBVkE7QUFXVjZCLGVBQU8sRUFBRXhCLENBQUMsQ0FBQ3dCLE9BQUYsR0FBWXhCLENBQUMsQ0FBQ3dCLE9BQWQsR0FBd0IsSUFYdkI7QUFZVnRDLFlBQUksRUFBRWMsQ0FBQyxDQUFDZ0IsTUFBRixDQUFTOUIsSUFBVCxHQUFnQmMsQ0FBQyxDQUFDZ0IsTUFBRixDQUFTOUIsSUFBekIsR0FBZ0MsSUFaNUI7QUFhVlAsbUJBQVcsRUFBRThDLGNBQWMsQ0FBQ3pCLENBQUQsQ0FiakI7QUFjVjBCLG9CQUFZLEVBQUUxQixDQUFDLENBQUNnQixNQWROO0FBZVZXLGtCQUFVLEVBQUUzQixDQUFDLENBQUNnQixNQUFGLENBQVNZO0FBZlgsT0FBWjtBQWtCQSxXQUFLbkQsV0FBTCxDQUFpQm9CLEdBQWpCO0FBQ0Q7OztXQUVELHVCQUFjO0FBQ1osYUFBTyxLQUFLcEQsUUFBWjtBQUNEOzs7V0FFRCx5QkFBZ0I7QUFDZCxXQUFLQSxRQUFMLEdBQWdCLEVBQWhCO0FBQ0Q7Ozs7OztBQUdILFNBQVNnRixjQUFULENBQXdCSSxHQUF4QixFQUE2QjtBQUMzQixNQUFNQyxxQkFBcUIsR0FBRztBQUM1QkMsV0FBTyxFQUFFLElBRG1CO0FBRTVCQyxhQUFTLEVBQUUsSUFGaUI7QUFHNUJDLGFBQVMsRUFBRSxJQUhpQjtBQUk1QkMsYUFBUyxFQUFFO0FBSmlCLEdBQTlCO0FBTUEsU0FBT0oscUJBQXFCLENBQUNELEdBQUcsQ0FBQ2xDLElBQUwsQ0FBckIsR0FDSDtBQUFFd0MsS0FBQyxFQUFFTixHQUFHLENBQUNPLE9BQVQ7QUFBa0JDLEtBQUMsRUFBRVIsR0FBRyxDQUFDUztBQUF6QixHQURHLEdBRUgsSUFGSjtBQUdEOztBQUVELFNBQVNwQixrQkFBVCxDQUE0QnFCLE9BQTVCLEVBQXFDQyxTQUFyQyxFQUFnRDtBQUM5QyxvQkFBV0EsU0FBWCxjQUF3QkQsT0FBTyxDQUFDRSxZQUFSLENBQXFCRCxTQUFyQixDQUF4QjtBQUNEOztBQUVEaEYsTUFBTSxDQUFDa0YsYUFBUCxHQUF1QixJQUFJbEcsYUFBSixFQUF2QjtBQUNBZ0IsTUFBTSxDQUFDa0YsYUFBUCxDQUFxQkMsS0FBckIiLCJmaWxlIjoiLi9zcmMvY29udGVudC1zY3JpcHRzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV2ZW50c1RvUmVjb3JkIGZyb20gXCIuLi9jb2RlLWdlbmVyYXRvci9kb20tZXZlbnRzLXRvLXJlY29yZFwiO1xuaW1wb3J0IHsgZGVmYXVsdEJpbmRUYWdzIH0gZnJvbSBcIi4uL2NvZGUtZ2VuZXJhdG9yL2VsZW1lbnRzLXRvLWJpbmQtdG9cIjtcbi8vIGltcG9ydCB7IGZpbmRlciB9IGZyb20gXCIuLi9jb2RlLWdlbmVyYXRvci9hbGF1ZGEtZmluZGVyXCI7XG5pbXBvcnQgZmluZGVyIGZyb20gXCJAbWVkdi9maW5kZXJcIjtcbmltcG9ydCBwcHRyQWN0aW9ucyBmcm9tIFwiLi4vY29kZS1nZW5lcmF0b3IvcHB0ci1hY3Rpb25zXCI7XG5cbmltcG9ydCAqIGFzIGRlbGVnYXRlIGZyb20gXCJkZWxlZ2F0ZVwiO1xuXG4vLyBub3RlOiDpnIDopoHlsL3ph4/pgb/lhY1hdWktaW5wdXTnmoTljLnphY1cbmV4cG9ydCBjb25zdCBtYXRjaENsYXNzTmFtZXMgPSBbXG4gIFwiYXVpLXNlYXJjaFwiLFxuICBcImF1aS1idXR0b25cIixcbiAgXCJhdWktc2VsZWN0XCIsXG4gIFwiYXVpLWFjY29yZGlvblwiLFxuICBcImF1aS1icmVhZGNydW1iXCIsXG4gIFwiYXVpLW5hdlwiLFxuICBcImF1aS1mb3JtXCIsXG4gIFwiYXVpLWljb25cIixcbiAgXCJhdWktdGFiXCIsXG4gIFwiYXVpLXRvb2x0aXBcIixcbiAgXCJhdWktb3B0aW9uXCIsXG4gIFwiYWNsLWRpc2FibGVkLWNvbnRhaW5lclwiLFxuICBcImFjbC1cIixcbiAgXCJyYy1cIixcbl07XG5cbi8vIG5lZWQgYWRkIHByZSBjb21tYW5kIGxpbmVzIGVsZW1lbnRzXG5leHBvcnQgY29uc3QgbmVlZEFkZFByZUNMRWxlbWVudHMgPSBbXG4gIFxuXVxuXG5cbmNsYXNzIEV2ZW50UmVjb3JkZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50TG9nID0gW107XG4gICAgdGhpcy5wcmV2aW91c0V2ZW50ID0gbnVsbDtcbiAgICB0aGlzLnByZXZpb3VzUm91dGVyID0gbnVsbDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbXCJvcHRpb25zXCJdLCAoeyBvcHRpb25zIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YUF0dHJpYnV0ZSB9ID0gb3B0aW9ucyA/IG9wdGlvbnMuY29kZSA6IHt9O1xuICAgICAgY29uc3Qgc3RhcnRDb250ZXh0ID0gdGhpcztcbiAgICAgIGlmIChkYXRhQXR0cmlidXRlKSB7XG4gICAgICAgIHRoaXMuZGF0YUF0dHJpYnV0ZSA9IGRhdGFBdHRyaWJ1dGU7XG4gICAgICB9XG5cbiAgICAgIC8vIHlpbnRlc3Qg55uR5ZCsIHB1c2hzdGF0ZVxuICAgICAgLy8gY29uc3QgX2hpc3RvcnlXcmFwID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgLy8gICBjb25zdCBvcmlnID0gd2luZG93Lmhpc3RvcnlbdHlwZV07XG4gICAgICAvLyAgIGNvbnN0IGUgPSBuZXcgRXZlbnQodHlwZSk7XG4gICAgICAvLyAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIC8vICAgICBjb25zdCBydiA9IG9yaWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIC8vICAgICBlLmFyZ3VtZW50cyA9IGFyZ3VtZW50cztcbiAgICAgIC8vICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgIC8vICAgICByZXR1cm4gcnY7XG4gICAgICAvLyAgIH07XG4gICAgICAvLyB9O1xuICAgICAgLy8gd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlID0gX2hpc3RvcnlXcmFwKFwicHVzaFN0YXRlXCIpO1xuICAgICAgLy8gd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlID0gX2hpc3RvcnlXcmFwKFwicmVwbGFjZVN0YXRlXCIpO1xuXG4gICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInB1c2hTdGF0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiY2hhbmdlIHB1c2hTdGF0ZVwiLCBlKTtcbiAgICAgIC8vIH0pO1xuICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXBsYWNlU3RhdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNoYW5nZSByZXBsYWNlU3RhdGVcIiwgZSk7XG4gICAgICAvLyB9KTtcblxuICAgICAgY29uc3QgZXZlbnRzID0gT2JqZWN0LnZhbHVlcyhldmVudHNUb1JlY29yZCk7XG4gICAgICBpZiAoIXdpbmRvdy5wcHRSZWNvcmRlckFkZGVkQ29udHJvbExpc3RlbmVycykge1xuICAgICAgICB0aGlzLmFkZEFsbExpc3RlbmVycyhkZWZhdWx0QmluZFRhZ3MsIGV2ZW50cyk7XG4gICAgICAgIHdpbmRvdy5wcHRSZWNvcmRlckFkZGVkQ29udHJvbExpc3RlbmVycyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgIXdpbmRvdy5kb2N1bWVudC5wcHRSZWNvcmRlckFkZGVkQ29udHJvbExpc3RlbmVycyAmJlxuICAgICAgICBjaHJvbWUucnVudGltZSAmJlxuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2VcbiAgICAgICkge1xuICAgICAgICBjb25zdCBib3VuZGVkR2V0Q3VycmVudFVybCA9IHRoaXMuZ2V0Q3VycmVudFVybC5iaW5kKHRoaXMpO1xuICAgICAgICBjb25zdCBib3VuZGVkR2V0Vmlld1BvcnRTaXplID0gdGhpcy5nZXRWaWV3UG9ydFNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGJvdW5kZWRHZXRDdXJyZW50VXJsKTtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGJvdW5kZWRHZXRWaWV3UG9ydFNpemUpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucHB0UmVjb3JkZXJBZGRlZENvbnRyb2xMaXN0ZW5lcnMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoXCJmaXJzdFJ1blwiLCBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICBpZiAoIWl0ZW1zLmhhc093blByb3BlcnR5KFwiZmlyc3RSdW5cIikpIHtcbiAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBmaXJzdFJ1bjogMCB9KTtcbiAgICAgICAgICBpdGVtcy5maXJzdFJ1biA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbXMuaGFzT3duUHJvcGVydHkoXCJmaXJzdFJ1blwiKSAmJiAhaXRlbXMuZmlyc3RSdW4pIHtcbiAgICAgICAgICBzdGFydENvbnRleHQuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgY29udHJvbDogXCJnZXQtdmlld3BvcnQtc2l6ZVwiLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhcnRDb250ZXh0LnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGNvbnRyb2w6IFwiZ2V0LWN1cnJlbnQtdXJsXCIsXG4gICAgICAgICAgICBvcmlnaW46IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sXG4gICAgICAgICAgICBocmVmOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBmaXJzdFJ1bjogMSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyBjb250cm9sOiBcImV2ZW50LXJlY29yZGVyLXN0YXJ0ZWRcIiB9KTtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJDeXByZXNzIFJlY29yZGVyIGluLXBhZ2UgRXZlbnRSZWNvcmRlciBzdGFydGVkXCIpO1xuXG4gICAgICAvLyDnu5Hlrpphbmd1bGFyIGV2ZW50IHJvdXRlciBlbmRcbiAgICAgIGlmICh3aW5kb3cuX2N5X25hdmlnYXRlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiX2N5X25hdmlnYXRlXCIsIHdpbmRvdy5fY3lfbmF2aWdhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQWxsTGlzdGVuZXJzKGVsZW1lbnRzLCBldmVudHMpIHtcbiAgICBjb25zdCBib3VuZGVkUmVjb3JkRXZlbnQgPSB0aGlzLnJlY29yZEV2ZW50LmJpbmQodGhpcyk7XG4gICAgZXZlbnRzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGJvdW5kZWRSZWNvcmRFdmVudCwgdHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBzZW5kTWVzc2FnZShtc2cpIHtcbiAgICBjb25zb2xlLmRlYnVnKFwic2VuZGluZyBtZXNzYWdlXCIsIG1zZyk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIHBvb3IgbWFuJ3Mgd2F5IG9mIGRldGVjdGluZyB3aGV0aGVyIHRoaXMgc2NyaXB0IHdhcyBpbmplY3RlZCBieSBhbiBhY3R1YWwgZXh0ZW5zaW9uLCBvciBpcyBsb2FkZWQgZm9yXG4gICAgICAvLyB0ZXN0aW5nIHB1cnBvc2VzXG4gICAgICBpZiAoY2hyb21lLnJ1bnRpbWUgJiYgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmV2ZW50TG9nLnB1c2gobXNnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJjYXVnaHQgZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gIH1cblxuICBnZXRDdXJyZW50VXJsKG1zZykge1xuICAgIGlmIChtc2cuY29udHJvbCAmJiBtc2cuY29udHJvbCA9PT0gXCJnZXQtY3VycmVudC11cmxcIikge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcInNlbmRpbmcgY3VycmVudCB1cmw6XCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBjb250cm9sOiBtc2cuY29udHJvbCxcbiAgICAgICAgb3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLFxuICAgICAgICBocmVmOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFZpZXdQb3J0U2l6ZShtc2cpIHtcbiAgICBpZiAobXNnLmNvbnRyb2wgJiYgbXNnLmNvbnRyb2wgPT09IFwiZ2V0LXZpZXdwb3J0LXNpemVcIikge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcInNlbmRpbmcgY3VycmVudCB2aWV3cG9ydCBzaXplXCIpO1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIGNvbnRyb2w6IG1zZy5jb250cm9sLFxuICAgICAgICBjb29yZGluYXRlczogeyB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZWNvcmRFdmVudChlKSB7XG4gICAgaWYgKHRoaXMucHJldmlvdXNFdmVudCAmJiB0aGlzLnByZXZpb3VzRXZlbnQudGltZVN0YW1wID09PSBlLnRpbWVTdGFtcClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnByZXZpb3VzRXZlbnQgPSBlO1xuICAgIC8vIHlpbnRlc3Qg5Yik5patdXJs5piv5ZCm5Y+R55Sf5LqG5pS55Y+YXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmICE9PSB0aGlzLnByZXZpb3VzUm91dGVyKSB7XG4gICAgICB0aGlzLnByZXZpb3VzUm91dGVyID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBhY3Rpb246IHBwdHJBY3Rpb25zLk5BVklHQVRFLFxuICAgICAgICBocmVmOiB0aGlzLnByZXZpb3VzUm91dGVyLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSB7XG4gICAgICBjbGFzc05hbWU6IChuYW1lKSA9PiBtYXRjaENsYXNzTmFtZXMuc29tZSgoaXRlbSkgPT4gbmFtZS5pbmNsdWRlcyhpdGVtKSksXG4gICAgICB0YWdOYW1lOiAobmFtZSkgPT4gbWF0Y2hDbGFzc05hbWVzLnNvbWUoKGl0ZW0pID0+IG5hbWUuaW5jbHVkZXMoaXRlbSkpLFxuICAgICAgYXR0cjogKG5hbWUsIHZhbHVlKSA9PiBuYW1lLmluY2x1ZGVzKFwiZGF0YS1jeVwiKSxcbiAgICAgIGlkTmFtZTogKG5hbWUpID0+ICFuYW1lLmluY2x1ZGVzKFwiY2RrLVwiKSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VsZWN0b3IgPVxuICAgICAgZS50YXJnZXQuaGFzQXR0cmlidXRlICYmIGUudGFyZ2V0Lmhhc0F0dHJpYnV0ZSh0aGlzLmRhdGFBdHRyaWJ1dGUpXG4gICAgICAgID8gZm9ybWF0RGF0YVNlbGVjdG9yKGUudGFyZ2V0LCB0aGlzLmRhdGFBdHRyaWJ1dGUpXG4gICAgICAgIDogZmluZGVyKGUudGFyZ2V0LCB7XG4gICAgICAgICAgICAuLi5iYXNlT3B0aW9ucyxcbiAgICAgICAgICAgIHNlZWRNaW5MZW5ndGg6IDIwLFxuICAgICAgICBvcHRpbWl6ZWRNaW5MZW5ndGg6IDIwLFxuICAgICAgICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJlLnRhcmdldFwiLCBlLnRhcmdldCk7XG5cbiAgICBjb25zdCBtc2cgPSB7XG4gICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICBmdWxsU2VsZWN0b3I6IGZpbmRlcihlLnRhcmdldCwge1xuICAgICAgICAuLi5iYXNlT3B0aW9ucyxcbiAgICAgICAgc2VlZE1pbkxlbmd0aDogMTAsXG4gICAgICAgIG9wdGltaXplZE1pbkxlbmd0aDogMTAsXG4gICAgICB9KSxcbiAgICAgIHZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgIHRhZ05hbWU6IGUudGFyZ2V0LnRhZ05hbWUsXG4gICAgICB0YXJnZXRUeXBlOiBlLnRhcmdldC50eXBlLFxuICAgICAgYWN0aW9uOiBlLnR5cGUsXG4gICAgICBrZXlDb2RlOiBlLmtleUNvZGUgPyBlLmtleUNvZGUgOiBudWxsLFxuICAgICAgaHJlZjogZS50YXJnZXQuaHJlZiA/IGUudGFyZ2V0LmhyZWYgOiBudWxsLFxuICAgICAgY29vcmRpbmF0ZXM6IGdldENvb3JkaW5hdGVzKGUpLFxuICAgICAgdGFyZ2V0T2JqZWN0OiBlLnRhcmdldCxcbiAgICAgIHRhcmdldFRleHQ6IGUudGFyZ2V0LmlubmVyVGV4dCxcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kTWVzc2FnZShtc2cpO1xuICB9XG5cbiAgZ2V0RXZlbnRMb2coKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRMb2c7XG4gIH1cblxuICBjbGVhckV2ZW50TG9nKCkge1xuICAgIHRoaXMuZXZlbnRMb2cgPSBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb29yZGluYXRlcyhldnQpIHtcbiAgY29uc3QgZXZlbnRzV2l0aENvb3JkaW5hdGVzID0ge1xuICAgIG1vdXNldXA6IHRydWUsXG4gICAgbW91c2Vkb3duOiB0cnVlLFxuICAgIG1vdXNlbW92ZTogdHJ1ZSxcbiAgICBtb3VzZW92ZXI6IHRydWUsXG4gIH07XG4gIHJldHVybiBldmVudHNXaXRoQ29vcmRpbmF0ZXNbZXZ0LnR5cGVdXG4gICAgPyB7IHg6IGV2dC5jbGllbnRYLCB5OiBldnQuY2xpZW50WSB9XG4gICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXRhU2VsZWN0b3IoZWxlbWVudCwgYXR0cmlidXRlKSB7XG4gIHJldHVybiBgWyR7YXR0cmlidXRlfT0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSl9XWA7XG59XG5cbndpbmRvdy5ldmVudFJlY29yZGVyID0gbmV3IEV2ZW50UmVjb3JkZXIoKTtcbndpbmRvdy5ldmVudFJlY29yZGVyLnN0YXJ0KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/content-scripts/index.js\n");

/***/ })

})